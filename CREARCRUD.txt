
php artisan make:model TipoCasilla -rm --api
php artisan make:model Seccion -rm --api

<script>
export default {
  data() {
    return {
      model: {
        email: '',
        password: ''
      }
    }
  },
  methods: {
    redirectToWelcome() {
      this.$router.push('/admin/auth/login');
    },
    async Login() {
      try {
        const res = await this.$api.$post('login', this.model);
        let user = res
        if (user.hasOwnProperty('errors')) {
          this.$swal
            .fire({
              title: "Credenciales incorrectas",
              showDenyButton: false,
              showCancelButton: false,
              confirmButtonText: "Ok"

            })
        } else {
          localStorage.setItem('userAuth', JSON.stringify(user))
          this.$router.push('/admin')
        }
      } catch (e) {
        console.log(e)
        this.$swal
          .fire({
            title: "No se puedo iniciar sesion",
            showDenyButton: false,
            showCancelButton: false,
            confirmButtonText: "Ok"

          })

      }
    }
  }
}
</script>